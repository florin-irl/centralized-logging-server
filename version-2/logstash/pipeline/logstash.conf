input {
  http {
    port => 8080
    codec => "json"
    add_field => { "input_source" => "http" }  # âœ… Explicit marker for Alpha
  }

  tcp {
    port => 5000
    codec => "json"
    add_field => { "input_source" => "tcp" }   # âœ… Explicit marker for Beta
  }
}

filter {
  if [input_source] == "http" {
    mutate { add_field => { "source" => "AlphaService" } }
  }
  else if [input_source] == "tcp" {
    mutate { add_field => { "source" => "BetaService" } }
  }
}

output {
  stdout { codec => rubydebug }
  file {
    path => "/logs/centralized-log.json"
    codec => json_lines
  }
}
